(this["webpackJsonptop5-lister-hw3"]=this["webpackJsonptop5-lister-hw3"]||[]).push([[0],{147:function(e,t,r){},177:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(45),i=r.n(s),c=(r(147),r(31)),o=r(19),l=r(14),d=r.n(l),u=r(16),p=r(13),j=r(82),b=r.n(j);b.a.defaults.withCredentials=!0;var m=b.a.create({baseURL:"http://localhost:4000/api"}),h={createTop5List:function(e){return m.post("/top5list/",e)},getAllTop5Lists:function(){return m.get("/top5lists/")},getTop5ListPairs:function(){return m.get("/top5listpairs/")},updateTop5ListById:function(e,t){return m.put("/top5list/".concat(e),t)},deleteTop5ListById:function(e){return m.delete("/top5list/".concat(e))},getTop5ListById:function(e){return m.get("/top5list/".concat(e))},getLoggedIn:function(){return m.get("/loggedIn/")},registerUser:function(e){return m.post("/register/",e)},loginUser:function(e){return m.post("/login/",e)},logoutUser:function(){return m.get("/logout/")},sendEmail:function(e){return m.post("/sendEmail/",e)},resetPassword:function(e,t,r){return m.post("/resetPassword/".concat(e,"/").concat(t),r)}},x=r(0),f=Object(n.createContext)();console.log("create AuthContext: "+f);var O={GET_LOGGED_IN:"GET_LOGGED_IN",REGISTER_USER:"REGISTER_USER",LOGOUT_USER:"LOGOUT_USER",LOGIN_USER:"LOGIN_USER",ERROR:"ERROR"};function g(e){var t=Object(n.useState)({user:null,loggedIn:!1,error:!1}),r=Object(p.a)(t,2),a=r[0],s=r[1],i=Object(o.f)();Object(n.useEffect)((function(){a.getLoggedIn()}),[]);var c=function(e){var t=e.type,r=e.payload;switch(t){case O.GET_LOGGED_IN:return s({user:r.user,loggedIn:r.loggedIn,error:!1});case O.REGISTER_USER:return s({user:r.user,loggedIn:!0,error:!1});default:return s({user:null,loggedIn:!1,error:!1});case O.LOGIN_USER:return s({user:r,loggedIn:!0,error:!1});case O.ERROR:return s({user:null,loggedIn:!1,error:r})}};return a.default=function(){c({type:O.default,payload:null})},a.getLoggedIn=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getLoggedIn();case 2:200===(t=e.sent).status&&c({type:O.SET_LOGGED_IN,payload:{loggedIn:t.data.loggedIn,user:t.data.user}});case 4:case"end":return e.stop()}}),e)}))),a.registerUser=function(){var e=Object(u.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.registerUser(t);case 3:200===(n=e.sent).status&&(c({type:O.REGISTER_USER,payload:{user:n.data.user}}),i.push("/home"),r.loadIdNamePairs()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c({type:O.ERROR,payload:{status:e.t0.response.status,message:e.t0.response.data.errorMessage}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),a.logoutUser=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.logoutUser();case 2:200===e.sent.status&&(c({type:O.LOGOUT_USER,paylaod:null}),i.push("/"));case 4:case"end":return e.stop()}}),e)}))),a.loginUser=function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.loginUser(t);case 3:200===(r=e.sent).status&&(c({type:O.LOGIN_USER,payload:r.data.user}),i.push("/home")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c({type:O.ERROR,payload:{status:e.t0.response.status,message:e.t0.response.data.errorMessage}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Object(x.jsx)(f.Provider,{value:{auth:a},children:e.children})}var v=f,L=Object(n.createContext)({}),w="CLOSE_CURRENT_LIST",y="CREATE_NEW_LIST",k="LOAD_ID_NAME_PAIRS",C="MARK_LIST_FOR_DELETION",N="UNMARK_LIST_FOR_DELETION",I="SET_CURRENT_LIST",E="EDIT_LIST",T="UPDATE_LIST",P="SEARCH",S="MODE",D="SORT";function _(e){var t=Object(n.useState)({idNamePairs:[],currentList:null,editActive:!1,listMarkedForDeletion:null,mode:"home",text:""}),r=Object(p.a)(t,2),a=r[0],s=r[1],i=(Object(o.f)(),Object(n.useContext)(v).auth),c=function(e){var t=e.type,r=e.payload;switch(t){case w:return s({idNamePairs:a.idNamePairs,currentList:null,eidtActive:!1,listMarkedForDeletion:null,mode:a.mode,text:a.text});case y:case E:return s({idNamePairs:a.idNamePairs,currentList:r,editActive:!0,listMarkedForDeletion:null,mode:a.mode,text:a.text});case k:return console.log("loading"),s({idNamePairs:r,currentList:null,editActive:!1,listMarkedForDeletion:null,mode:a.mode,text:a.text});case C:return s({idNamePairs:a.idNamePairs,currentList:null,editActive:!1,listMarkedForDeletion:r,mode:a.mode,text:a.text});case N:return s({idNamePairs:a.idNamePairs,currentList:null,editActive:!1,listMarkedForDeletion:null,mode:a.mode,text:a.text});case I:return s({idNamePairs:a.idNamePairs,currentList:r.list,editActive:r.edit,listMarkedForDeletion:null,mode:a.mode,text:a.text});case T:return s({idNamePairs:r.idNamePairs,currentList:null,editActive:!1,listMarkedForDeletion:null,mode:a.mode,text:a.text});case P:return console.log("search"),s({idNamePairs:r,currentList:null,editActive:!1,listMarkedForDeletion:null,mode:a.mode,text:""});case S:return s({idNamePairs:a.idNamePairs,currentList:null,editActive:!1,listMarkedForDeletion:null,mode:r,text:a.text});case D:return s({idNamePairs:r,currentList:null,editActive:!1,listMarkedForDeletion:null,mode:a.mode,text:a.text});default:return a}};function l(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}return a.editList=function(){var e=Object(u.a)(d.a.mark((function e(t,r,n){var s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getTop5ListById(t);case 2:(s=e.sent).data.success&&((i=s.data.top5List).name=r,i.items=n,a.updateList(i));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),a.closeCurrentList=function(){var e=a.currentList;e.view++,a.updateList2(e),c({type:w,payload:{}}),a.loadIdNamePairs()},a.createNewList=Object(u.a)(d.a.mark((function e(){var t,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",t={name:"",items:["","","","",""],ownerEmail:i.user.email,published:{published:!1,time:Date()},view:0,likes:[],dislikes:[],comment:[],author:i.user.lastName+" "+i.user.firstName},e.next=4,h.createTop5List(t);case 4:(r=e.sent).data.success?(n=r.data.top5List,console.log(a.idNamePairs),c({type:y,payload:n})):console.log("API FAILED TO CREATE A NEW LIST");case 6:case"end":return e.stop()}}),e)}))),a.loadIdNamePairs=Object(u.a)(d.a.mark((function e(){var t,r,n,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getTop5ListPairs();case 2:if((t=e.sent).data.success){for(a in r=t.data.idNamePairs,n=[],r)s=r[a],i.loggedIn?(i.user.email===s.email||s.published.published)&&(console.log(i.user.email,s.email,s.published.published),n.push(s)):s.published.published&&(n.push(s),console.log(n));c({type:k,payload:n})}else console.log("API FAILED TO GET THE LIST PAIRS");case 4:case"end":return e.stop()}}),e)}))),a.markListForDeletion=function(){var e=Object(u.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getTop5ListById(t);case 2:(r=e.sent).data.success&&(n=r.data.top5List,c({type:C,payload:n}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.deleteList=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.deleteTop5ListById(t._id);case 2:e.sent.data.success&&a.loadIdNamePairs();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.deleteMarkedList=function(){a.deleteList(a.listMarkedForDeletion)},a.unmarkListForDeletion=function(){c({type:N,payload:null})},a.setCurrentList=function(){var e=Object(u.a)(d.a.mark((function e(t,r){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getTop5ListById(t);case 2:(n=e.sent).data.success&&(a=n.data.top5List,c({type:I,payload:{list:a,edit:r}}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),a.updateList=function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.ownerEmail===i.user.email&&(r=function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.updateTop5ListById(t._id,t);case 2:e.sent.data.success&&(r=function(){var e=Object(u.a)(d.a.mark((function e(t){var r,n,a,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getTop5ListPairs();case 2:if((r=e.sent).data.success){for(s in n=r.data.idNamePairs,a=[],n)i=n[s],a.push(i);c({type:T,payload:{idNamePairs:a,top5List:t}})}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r(t)),a.loadIdNamePairs();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.updateList2=function(){var e=Object(u.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(){return n=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.updateTop5ListById(t._id,t);case 2:e.sent.data.success&&(r=function(){var e=Object(u.a)(d.a.mark((function e(t){var r,n,a,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getTop5ListPairs();case 2:if((r=e.sent).data.success){for(s in n=r.data.idNamePairs,a=[],n)i=n[s],a.push(i);c({type:T,payload:{idNamePairs:a,top5List:t}})}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r(t));case 4:case"end":return e.stop()}}),e)}))),n.apply(this,arguments)},r=function(e){return n.apply(this,arguments)},r(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.updateCurrentList=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.updateTop5ListById(a.currentList._id,a.currentList);case 2:e.sent.data.success&&c({type:I,payload:a.currentList});case 4:case"end":return e.stop()}}),e)}))),a.setIsEditActive=function(){c({type:E,payload:null})},a.publish=function(){var e=Object(u.a)(d.a.mark((function e(t){var r,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getTop5ListById(t);case 2:(r=e.sent).data.success&&(n=r.data.top5List,s=new Date,n.published={published:!0,time:s.getMonth()+"-"+s.getDate()+", "+s.getFullYear()},a.updateList(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.searchLists=function(){var e=Object(u.a)(d.a.mark((function e(t){var r,n,s,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getTop5ListPairs();case 2:for(i in r=e.sent,n=r.data.idNamePairs,console.log(n),s=[],n)(o=n[i]).published.published&&("home"===a.mode?o.name.toLowerCase().startsWith(t.toLowerCase())&&s.push(o):"all"===a.mode?o.name.toLowerCase()===t.toLowerCase()&&s.push(o):"user"===a.mode?o.author.toLowerCase()===t.toLowerCase()&&s.push(o):o.name.toLowerCase().startsWith(t.toLowerCase())&&s.push(o));c({type:P,payload:s});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.setMode=function(e){c({type:S,payload:e}),console.log(a.mode)},a.like=function(){var e=Object(u.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getTop5ListById(t);case 2:(r=e.sent).data.success&&((n=r.data.top5List).dislikes.includes(i.user.email)?(n.dislikes.pop(i.user.email),n.likes.push(i.user.email)):n.likes.includes(i.user.email)?n.likes.pop(i.user.email):n.likes.push(i.user.email),a.updateList2(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.dislike=function(){var e=Object(u.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getTop5ListById(t);case 2:(r=e.sent).data.success&&((n=r.data.top5List).likes.includes(i.user.email)?(n.likes.pop(i.user.email),n.dislikes.push(i.user.email)):n.dislikes.includes(i.user.email)?n.dislikes.pop(i.user.email):n.dislikes.push(i.user.email),a.updateList2(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.comment=function(){var e=Object(u.a)(d.a.mark((function e(t,r){var n,s,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getTop5ListById(r);case 2:(n=e.sent).data.success&&(s=n.data.top5List,c=i.user.firstName+" "+i.user.lastName,o={comment:t,author:c},s.comment.push(o),a.updateList2(s));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),a.sortBy=function(e){var t,r,n=a.idNamePairs;for(t=0;t<n.length-1;t++)for(r=0;r<n.length-t-1;r++)1===e?n[r].published.time>n[r+1].published.time&&l(n,r,r+1):2===e?n[r].published.time<n[r+1].published.time&&l(n,r,r+1):3===e?n[r].view<n[r+1].view&&l(n,r,r+1):4===e?n[r].likes.length<n[r+1].likes.length&&l(n,r,r+1):n[r].dislikes.length<n[r+1].dislikes.length&&l(n,r,r+1);c({type:D,payload:n})},Object(x.jsx)(L.Provider,{value:{store:a},children:e.children})}var R=r(233),F=r(239),A=r(234),U=r(240),M=r(241),G=r(235),B=r(227),z=r(120),W=r(107),V=r.n(W);function q(){var e=Object(n.useContext)(v).auth,t=Object(n.useState)(null),r=Object(p.a)(t,2),a=r[0],s=r[1],i=Boolean(a),o=function(){s(null)},l="primary-search-account-menu",d=Object(x.jsxs)(z.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},id:l,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:o,children:[Object(x.jsx)(B.a,{onClick:o,children:Object(x.jsx)(c.b,{to:"/login/",children:"Login"})}),Object(x.jsx)(B.a,{onClick:o,children:Object(x.jsx)(c.b,{to:"/register/",children:"Create New Account"})})]}),u=Object(x.jsx)(z.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},id:l,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:o,children:Object(x.jsx)(B.a,{onClick:function(){o(),e.logoutUser()},children:"Logout"})}),j=d;return e.loggedIn&&(j=u),Object(x.jsxs)(A.a,{sx:{flexGrow:1},children:[Object(x.jsx)(F.a,{position:"static",children:Object(x.jsxs)(U.a,{sx:{bgcolor:"#e0e0e0"},children:[Object(x.jsx)(G.a,{variant:"h4",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},children:Object(x.jsxs)(c.b,{style:{textDecoration:"none",color:"#d4b038"},to:"/",children:["T",Object(x.jsx)("sup",{children:"5"}),"L"]})}),Object(x.jsx)(A.a,{sx:{flexGrow:1},children:""}),Object(x.jsx)(A.a,{sx:{display:{xs:"none",md:"flex"}},children:Object(x.jsx)(M.a,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":l,"aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit",children:function(t){if(t){var r=e.user.lastName.substring(0,1).toUpperCase(),n=e.user.firstName.substring(0,1).toUpperCase();return Object(x.jsx)(R.a,{sx:{color:"e0e0e0"},variant:"outlined",children:n+r})}return Object(x.jsx)(V.a,{})}(e.loggedIn)})})]})}),j]})}var Y=r(228),K=r(111),H=r.n(K),J=r(112),Q=r.n(J),X=r(110),Z=r.n(X),$=r(108),ee=r.n($);var te=r(222);var re=function(){var e=Object(n.useContext)(L).store,t=(Object(n.useContext)(v),Object(n.useState)("")),r=Object(p.a)(t,2),a=r[0],s=r[1],i="",c="";return e.currentList&&(i=Object(x.jsx)(A.a,{id:"edit-numbering",children:e.currentList.items.map((function(t){return Object(x.jsx)(A.a,{className:"item-number",sx:{flexDirection:"column",color:"#d4af36",bgcolor:"inherit"},children:e.currentList.items.indexOf(t)+1+". "+e.currentList.items[e.currentList.items.indexOf(t)]})}))}),c=Object(x.jsxs)(A.a,{id:"edit-numbering",sx:{overflow:"scroll"},children:[Object(x.jsx)(Y.a,{sx:{marginTop:"15px",display:"flex",p:1,height:"100%",flexDirection:"column"},children:e.currentList.comment.map((function(e){return Object(x.jsxs)(A.a,{className:"item-number",sx:{flexDirection:"column",color:"black",bgcolor:"#d4af36",overflow:"scroll"},children:[Object(x.jsx)(A.a,{sx:{color:"blue"},children:e.author}),Object(x.jsx)(A.a,{children:e.comment})]})}))}),Object(x.jsx)(te.a,{sx:{bgcolor:"white",color:"white"},label:"add comment...",onKeyPress:function(t){!function(t){console.log(e.currentList,"asdfadf"),"Enter"===t.code&&(e.comment(a,e.currentList._id),e.closeCurrentList())}(t)},onChange:function(e){!function(e){s(e.target.value)}(e)},name:"comment",id:"comment"})]})),console.log(c),Object(x.jsx)("div",{id:"top5-workspace",children:Object(x.jsxs)("div",{id:"workspace-edit",children:[i,c]})})},ne=r(109),ae=r.n(ne);var se=function(e){var t=Object(n.useContext)(L).store,r=Object(n.useState)(!1),a=Object(p.a)(r,2),s=(a[0],a[1],Object(n.useState)("")),i=Object(p.a)(s,2),c=(i[0],i[1],e.idNamePair),o=Object(n.useState)(!1),l=Object(p.a)(o,2),j=l[0],b=l[1],m=Boolean(j),h=Object(n.useContext)(v).auth;function f(){return(f=Object(u.a)(d.a.mark((function e(r,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.stopPropagation(),t.markListForDeletion(n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O="",g="unpublished-list-card",w=Object(x.jsx)(R.a,{sx:{color:"red"},onClick:function(e){!function(e,r){e.target.disabled||t.setCurrentList(r,!0)}(e,c._id)},children:"Edit"});c.published.published&&(g="published-list-card",w="Published:"+c.published.time,O=Object(x.jsx)(M.a,{onClick:function(e){var r;r=c._id,m||(b(!m),document.getElementById(c._id),t.setCurrentList(r),console.log(t.currentList))},children:Object(x.jsx)(ee.a,{style:{fontSize:"18pt"}})}));var y="";m&&(y=Object(x.jsx)(re,{}),O=Object(x.jsx)(M.a,{onClick:function(e){c._id,b(!m),document.getElementById(c._id).classList.remove(".expand"),t.closeCurrentList()},children:Object(x.jsx)(ae.a,{style:{fontSize:"18pt"}})}));var k=Object(x.jsx)(M.a,{onClick:function(e){!function(e,t){f.apply(this,arguments)}(e,c._id)},"aria-label":"delete",disabled:t.isListNameEditActive,children:Object(x.jsx)(Z.a,{style:{fontSize:"36pt"}})});return(null===h.user||h.user.email!==c.email)&&(k=""),Object(x.jsxs)(Y.a,{id:c._id,sx:{marginTop:"15px",display:"flex",p:1,height:"50%"},disabled:t.isListNameEditActive,class:g,children:[Object(x.jsxs)("div",{class:"firstrow",children:[Object(x.jsxs)("div",{width:"50%",children:[Object(x.jsx)(A.a,{sx:{width:.5,fontSize:24},children:c.name}),Object(x.jsx)(A.a,{sx:{width:.5,fontSize:12,color:"blue"},children:"By: "+c.author})]}),Object(x.jsxs)("div",{width:"50%",children:[Object(x.jsxs)(M.a,{onClick:function(){t.like(c._id),t.loadIdNamePairs()},"aria-label":"edit",disabled:t.isListNameEditActive,children:[Object(x.jsx)(H.a,{style:{fontSize:"36pt"}}),c.likes.length]}),Object(x.jsxs)(M.a,{onClick:function(e){c._id,t.dislike(c._id),t.loadIdNamePairs()},"aria-label":"delete",disabled:t.isListNameEditActive,children:[Object(x.jsx)(Q.a,{style:{fontSize:"36pt"}}),c.dislikes.length]}),k]})]}),Object(x.jsx)("div",{id:"worspace-edit",children:y}),Object(x.jsxs)("div",{class:"secondrow",children:[Object(x.jsx)(A.a,{sx:{fontSize:12},children:w}),Object(x.jsxs)("div",{"font-size":"12",children:["Views: "+c.view,O]})]})]},c._id)},ie=r(223),ce={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};var oe=function(){var e=!1,t=Object(n.useContext)(L).store,r="";function a(r){t.unmarkListForDeletion(),e=!1}return t.listMarkedForDeletion&&(r=t.listMarkedForDeletion.name,e=!0),Object(x.jsx)("div",{children:Object(x.jsx)(ie.a,{open:e,onClose:a,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(x.jsxs)(A.a,{sx:ce,children:[Object(x.jsx)(G.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"List Deletion"}),Object(x.jsxs)(G.a,{id:"modal-modal-description",sx:{mt:2},children:["Delete the ",r," Top5 List?"]}),Object(x.jsx)(R.a,{id:"dialog-yes-button",onClick:function(e){t.deleteMarkedList(),a()},children:"Confirm"}),Object(x.jsx)(R.a,{id:"dialog-no-button",onClick:a,children:"Cancel"})]})})})},le=r(113),de=r.n(le),ue=r(114),pe=r.n(ue),je=r(115),be=r.n(je),me=r(116),he=r.n(me),xe=r(117),fe=r.n(xe),Oe=r(4),ge=function(){var e=Object(n.useContext)(L).store;var t=1,r=e.currentList.items.map((function(e){return Object(x.jsxs)(A.a,{sx:Object(Oe.a)({justifyContent:"space-evenly",flexDirection:"row",bgcolor:"#d4af36",margin:2,fontSize:36,flexWrap:"wrap"},"justifyContent","center"),children:[Object(x.jsx)(G.a,{variant:"h3",sx:{flexDirection:"row",width:.1},children:t+++"."}),Object(x.jsx)(A.a,{children:Object(x.jsx)(te.a,{sx:{width:.9,flexDirection:"row"},id:"item"+t,class:"list-card",name:"item"+t,defaultValue:e})})]})}));return Object(x.jsxs)(A.a,{sx:{bgcolor:"#2C2F70"},component:"form",onSubmit:function(t){t.preventDefault();var r=new FormData(t.currentTarget),n=r.get("listName"),a=[r.get("item2"),r.get("item3"),r.get("item4"),r.get("item5"),r.get("item6")];e.editList(e.currentList._id,n,a)},children:[Object(x.jsx)(te.a,{sx:{width:.5,bgcolor:"white"},id:"listName",name:"listName",defaultValue:e.currentList.name}),Object(x.jsx)(A.a,{sx:{width:1,flexWrap:"wrap"},children:r}),Object(x.jsx)(R.a,{sx:{flexDirection:"reverse-row",bgcolor:"gray",color:"black"},type:"submit",children:"Save"}),Object(x.jsx)(R.a,{sx:{flexDirection:"reverse-row",bgcolor:"gray",color:"black"},onClick:function(t){e.publish(e.currentList._id)},children:"Publish"})]})},ve=function(){var e=Object(n.useContext)(L).store,t=Object(n.useState)(null),r=Object(p.a)(t,2),a=r[0],s=r[1],i=Boolean(a),c=Object(n.useState)(""),o=Object(p.a)(c,2),l=o[0],j=o[1];Object(n.useEffect)((function(){e.loadIdNamePairs()}),[]);function b(e,t){return m.apply(this,arguments)}function m(){return(m=Object(u.a)(d.a.mark((function t(r,n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.stopPropagation(),e.setMode(n);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){e.sortBy(t)}var f=Object(x.jsxs)(z.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:function(){s(null)},children:[Object(x.jsx)(B.a,{onClick:function(e){h(2)},children:"Published Date (Newest)"}),Object(x.jsx)(B.a,{onClick:function(e){h(1)},children:"Published Date (Oldest)"}),Object(x.jsx)(B.a,{onClick:function(e){h(3)},children:"Views"}),Object(x.jsx)(B.a,{onClick:function(e){h(4)},children:"Likes"}),Object(x.jsx)(B.a,{onClick:function(e){h(5)},children:"Dislikes"})]}),O="";return e&&(O=e.idNamePairs.map((function(e){return Object(x.jsx)(se,{idNamePair:e,selected:!1,sx:{padding:"5px"}},e._id)}))),e.editActive&&(O=Object(x.jsx)(ge,{})),Object(x.jsxs)("div",{id:"top5-list-selector",children:[Object(x.jsxs)("div",{id:"list-selector-heading",children:[Object(x.jsx)(F.a,{position:"static",children:Object(x.jsxs)(U.a,{sx:{bgcolor:"#c4c4c4",justifyContent:"space-between"},children:[Object(x.jsxs)(A.a,{sx:{display:{xs:"none",md:"flex"},width:1e3},children:[Object(x.jsx)(M.a,{disabled:e.addingList,onClick:function(e){b(e,"home")},children:Object(x.jsx)(de.a,{})}),Object(x.jsx)(M.a,{disabled:e.addingList,onClick:function(e){b(e,"all")},children:Object(x.jsx)(pe.a,{})}),Object(x.jsx)(M.a,{disabled:e.addingList,onClick:function(e){b(e,"user")},children:Object(x.jsx)(be.a,{})}),Object(x.jsx)(M.a,{disabled:e.addingList,onClick:function(e){b(e,"community")},children:Object(x.jsx)(he.a,{})}),Object(x.jsx)(te.a,{fullWidth:!0,sx:{bgcolor:"#FFFFFF"},label:"search",disbaled:e.addingList,onChange:function(e){!function(e){j(e.target.value)}(e)},onKeyPress:function(t){!function(t){"Enter"===t.code&&e.searchLists(l.toLowerCase())}(t)},defaultValue:e.text})]}),Object(x.jsxs)(A.a,{sx:{display:{md:"flex",color:"black",fontSize:20},alignItems:"center"},children:["SORT BY",Object(x.jsx)(M.a,{onClick:function(e){s(e.currentTarget)},disabled:e.addingList,children:Object(x.jsx)(fe.a,{})})]})]})}),f]}),Object(x.jsxs)("div",{id:"list-selector-list",children:[O,Object(x.jsx)(oe,{})]})]})},Le=r(55),we=r(236);function ye(e){return Object(x.jsxs)(G.a,Object(Le.a)(Object(Le.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(x.jsx)(we.a,{color:"inherit",href:"/",children:"The Top 5 Lister"})," ",(new Date).getFullYear(),"."]}))}var ke=r(230),Ce=r(237),Ne=r(221),Ie=r(231),Ee=r(72),Te=r.n(Ee),Pe=r(226),Se={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function De(){var e=Object(n.useContext)(v).auth,t=!1;return e.error&&(t=!0),Object(x.jsx)("div",{children:Object(x.jsx)(ie.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(x.jsxs)(A.a,{sx:Se,children:[Object(x.jsxs)(Pe.a,{severity:"error",children:["Error:",e.error.status]}),Object(x.jsx)(G.a,{id:"modal-modal-title",variant:"h6",component:"h6",children:e.error.message}),Object(x.jsx)(R.a,{onClick:function(r){e.default(),t=!1},children:"Close"})]})})})}function _e(){var e=Object(n.useContext)(v).auth,t=Object(n.useContext)(L).store;return Object(x.jsxs)(Ce.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(Ne.a,{}),Object(x.jsx)(De,{}),Object(x.jsxs)(A.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(x.jsx)(ke.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(x.jsx)(Te.a,{})}),Object(x.jsx)(G.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(x.jsxs)(A.a,{component:"form",noValidate:!0,onSubmit:function(r){r.preventDefault();var n=new FormData(r.currentTarget);e.registerUser({firstName:n.get("firstName"),lastName:n.get("lastName"),email:n.get("email"),password:n.get("password"),passwordVerify:n.get("passwordVerify")},t)},sx:{mt:3},children:[Object(x.jsxs)(Ie.a,{container:!0,spacing:2,children:[Object(x.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(te.a,{autoComplete:"fname",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(x.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(te.a,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})}),Object(x.jsx)(Ie.a,{item:!0,xs:12,children:Object(x.jsx)(te.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(x.jsx)(Ie.a,{item:!0,xs:12,children:Object(x.jsx)(te.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password"})}),Object(x.jsx)(Ie.a,{item:!0,xs:12,children:Object(x.jsx)(te.a,{required:!0,fullWidth:!0,name:"passwordVerify",label:"Password Verify",type:"password",id:"passwordVerify",autoComplete:"new-password"})})]}),Object(x.jsx)(R.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(x.jsx)(Ie.a,{container:!0,justifyContent:"flex-end",children:Object(x.jsx)(Ie.a,{item:!0,children:Object(x.jsx)(we.a,{href:"/login/",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(x.jsx)(ye,{sx:{mt:5}})]})}function Re(){var e=Object(o.f)(),t=Object(n.useContext)(v).auth,r=Object(n.useContext)(L).store;return Object(x.jsxs)("div",{id:"splash-screen",children:["Welcome to",Object(x.jsx)("br",{}),"The Top 5 Lister!!",Object(x.jsxs)(A.a,{component:"form",children:[Object(x.jsx)(R.a,{variant:"outlined",size:"medium",children:Object(x.jsx)(c.b,{to:"/register/",children:"Create Account"})}),Object(x.jsx)(R.a,{variant:"outlined",size:"medium",onClick:function(){t.default(),r.loadIdNamePairs(),e.push("/home/")},children:"Continue As Guest"}),Object(x.jsx)(R.a,{variant:"outlined",size:"medium",children:Object(x.jsx)(c.b,{to:"/login/",children:"Login"})})]})]})}var Fe=r(118),Ae=r.n(Fe);var Ue=function(){var e=Object(n.useContext)(L).store,t=Object(n.useContext)(v).auth,r="";return e.currentList&&(r=e.currentList.name),""!==e.text&&(r=e.text+" Lists"),e.currentList&&(r=e.currentList.name+" List"),t.loggedIn?Object(x.jsxs)("div",{id:"top5-statusbar",children:[Object(x.jsx)(R.a,{color:"primary","aria-label":"add",id:"add-list-button",onClick:function(){e.createNewList()},disabled:e.editActive||e.currentList,children:Object(x.jsx)(Ae.a,{})}),Object(x.jsx)(G.a,{variant:"h4",children:r})]}):Object(x.jsx)("div",{id:"top5-statusbar",children:Object(x.jsx)(G.a,{variant:"h4",children:r})})},Me=r(238),Ge=r(225),Be=r(119),ze=r(232);function We(e){return Object(x.jsxs)(G.a,Object(Le.a)(Object(Le.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(x.jsx)(we.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var Ve=Object(Be.a)();function qe(){var e=Object(n.useContext)(v).auth,t=Object(n.useContext)(L).store;return Object(x.jsx)(ze.a,{theme:Ve,children:Object(x.jsxs)(Ce.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(Ne.a,{}),Object(x.jsx)(De,{}),Object(x.jsxs)(A.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(x.jsx)(ke.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(x.jsx)(Te.a,{})}),Object(x.jsx)(G.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(x.jsxs)(A.a,{component:"form",onSubmit:function(r){r.preventDefault();var n=new FormData(r.currentTarget);e.loginUser({email:n.get("email"),password:n.get("password")},t)},noValidate:!0,sx:{mt:1},children:[Object(x.jsx)(te.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(x.jsx)(te.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(x.jsx)(Me.a,{control:Object(x.jsx)(Ge.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(x.jsx)(R.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(x.jsxs)(Ie.a,{container:!0,children:[Object(x.jsx)(Ie.a,{item:!0,xs:!0,children:Object(x.jsx)(we.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(x.jsx)(Ie.a,{item:!0,children:Object(x.jsx)(we.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(x.jsx)(We,{sx:{mt:8,mb:4}})]})})}var Ye=function(){return Object(x.jsx)(c.a,{children:Object(x.jsx)(g,{children:Object(x.jsxs)(_,{children:[Object(x.jsx)(q,{}),Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{path:"/",exact:!0,component:Re}),Object(x.jsx)(o.a,{path:"/home/",exact:!0,component:ve}),Object(x.jsx)(o.a,{path:"/login/",exact:!0,component:qe}),Object(x.jsx)(o.a,{path:"/register/",exact:!0,component:_e})]}),Object(x.jsx)(Ue,{})]})})})},Ke=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,244)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(Ye,{})}),document.getElementById("root")),Ke()}},[[177,1,2]]]);
//# sourceMappingURL=main.19a3973a.chunk.js.map